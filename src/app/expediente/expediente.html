<div class="container mt-5 pt-4" *ngIf="!cargando && cita">
  <!-- Header -->
  <div class="card shadow-lg border-0 mb-4">
    <div class="card-body bg-gradient text-white p-4" style="background: linear-gradient(135deg, #7b3fe4, #9f67ff);">
      <div class="d-flex justify-content-between align-items-center">
        <h3 class="fw-bold">Expediente #{{ cita.id }}</h3>
        <button class="btn btn-light btn-sm" (click)="volver()">⬅️ Volver a la lista</button>
      </div>
      <div class="mt-2 d-flex align-items-center gap-3">
        <p class="mb-0"><i class="bi bi-calendar-date"></i> <strong>{{ cita.fecha || 'Sin fecha' }}</strong></p>
        <p class="mb-0"><i class="bi bi-person-badge"></i> Dr. Administrador</p>
      </div>
    </div>
  </div>

  <!-- Información del Paciente -->
  <div class="card shadow-sm mb-3">
    <div class="card-header fw-bold bg-light">
      <i class="bi bi-person-lines-fill"></i> Información del Paciente
    </div>
    <div class="card-body d-flex align-items-center">
      <img
        [src]="cita.tipo === 'gato' ? 'assets/huellitas/Imagenes/gato.webp' : 'assets/huellitas/Imagenes/perro.png'"
        alt="icono"
        width="80"
        height="80"
        class="me-3 rounded-circle border"
      />
      <div>
        <h4 class="fw-bold">{{ cita.nombre | titlecase }}</h4>
        <span class="badge bg-primary me-2">{{ cita.tipo | titlecase }}</span>
        <span class="badge bg-secondary">{{ cita.raza || 'Sin raza' }}</span>
      </div>
    </div>
  </div>

  <!-- Peso y temperatura -->
  <div class="row g-3 mb-3">
    <div class="col-md-6">
      <div class="card shadow-sm text-center p-3">
        <h6 class="text-muted">PESO</h6>
        <h4>{{ cita.peso || '4' }} kg</h4>
      </div>
    </div>
    <div class="col-md-6">
      <div class="card shadow-sm text-center p-3">
        <h6 class="text-muted">TEMPERATURA</h6>
        <h4>{{ cita.temperatura || '37' }} °C</h4>
      </div>
    </div>
  </div>

  <!-- Diagnóstico y Síntomas -->
  <div class="row g-3 mb-3">
    <div class="col-md-6">
      <div class="card shadow-sm p-3">
        <h6 class="fw-bold"><i class="bi bi-file-medical"></i> Diagnóstico</h6>
        <p>{{ cita.diagnostico || 'No se registró diagnóstico.' }}</p>
      </div>
    </div>
    <div class="col-md-6">
      <div class="card shadow-sm p-3">
        <h6 class="fw-bold"><i class="bi bi-activity"></i> Síntomas Reportados</h6>
        <p>{{ cita.sintomas || 'No se reportaron síntomas.' }}</p>
      </div>
    </div>
  </div>

  <!-- Tratamiento y Medicamentos -->
  <div class="row g-3 mb-3">
    <div class="col-md-6">
      <div class="card shadow-sm p-3">
        <h6 class="fw-bold"><i class="bi bi-lightbulb"></i> Plan de Tratamiento</h6>
        <p>{{ cita.tratamiento || 'No se definió tratamiento.' }}</p>
      </div>
    </div>
    <div class="col-md-6">
      <div class="card shadow-sm p-3">
        <h6 class="fw-bold"><i class="bi bi-capsule"></i> Medicamentos Prescritos</h6>
        <p>{{ cita.medicamentos || 'No se prescribieron medicamentos.' }}</p>
      </div>
    </div>
  </div>

  <!-- Notas -->
  <div class="card shadow-sm mb-3 p-3">
    <h6 class="fw-bold"><i class="bi bi-journal-text"></i> Notas Clínicas</h6>
    <p>{{ cita.notas || 'Sin notas adicionales.' }}</p>
  </div>

  <!-- Información General -->
  <div class="card shadow-sm p-3">
    <h6 class="fw-bold"><i class="bi bi-info-circle"></i> Información</h6>
    <table class="table table-borderless mb-0">
      <tbody>
        <tr>
          <th>ID del Registro</th>
          <td>#{{ cita.id }}</td>
        </tr>
        <tr>
          <th>Fecha de Visita</th>
          <td>{{ cita.fecha || 'Sin fecha' }}</td>
        </tr>
        <tr>
          <th>Veterinario</th>
          <td>Administrador</td>
        </tr>
        <tr>
          <th>Creado el</th>
          <td>{{ cita.creado || (cita.fecha + ' 21:07') }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Spinner -->
<div *ngIf="cargando" class="text-center text-muted mt-5">Cargando expediente...</div>
